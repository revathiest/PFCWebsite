import{P as i}from"./index-CJK2gzTJ.js";import{s as r}from"./utils-CFjXnQ4s.js";const m=i.debug;function g(){return new URLSearchParams(window.location.search).get("slug")}async function u(){const e=g(),a=document.getElementById("accolade-name"),c=document.getElementById("accolade-description"),l=document.getElementById("recipients");if(!e){a.textContent="Error",c.textContent="Missing slug parameter in URL.";return}try{const t=await fetch(`${i.apiBase}/api/accolades`);if(!t.ok)throw new Error(`HTTP ${t.status}`);const{accolades:s}=await t.json(),d=s.map(o=>({name:o.name,slug:r(o.name)}));m&&console.log("[DEBUG] Available slugs:",d);const n=s.find(o=>r(o.name)===e);if(!n)throw new Error(`No accolade found matching slug: ${e}`);a.textContent=`${n.emoji||""} ${n.name}`,c.textContent=n.description||"",l.innerHTML=n.recipients.map(o=>`
      <div class="bg-gray-800 p-4 rounded shadow text-left">
        <h3 class="text-xl font-bold text-white mb-1">${o.displayName}</h3>
      </div>
    `).join("")}catch(t){console.error("[ERROR] Failed to load accolade:",t),a.textContent="Error",c.textContent=`Failed to load accolade information. ${t.message}`}}async function w(){try{await new Promise(e=>requestAnimationFrame(e)),await u()}catch(e){console.error("[ERROR] Failed to load site content:",e)}}export{w as init};
