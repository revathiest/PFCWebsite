import{P as d}from"./index-rJl0xIaU.js";import{s}from"./utils-CFjXnQ4s.js";function m(){return new URLSearchParams(window.location.search).get("slug")}async function g(){const e=m(),a=document.getElementById("accolade-name"),c=document.getElementById("accolade-description"),i=document.getElementById("recipients");if(!e){a.textContent="Error",c.textContent="Missing slug parameter in URL.";return}try{const t=await fetch(`${d.apiBase}/api/accolades`);if(!t.ok)throw new Error(`HTTP ${t.status}`);const{accolades:r}=await t.json(),l=r.map(o=>({name:o.name,slug:s(o.name)}));console.log("[DEBUG] Available slugs:",l);const n=r.find(o=>s(o.name)===e);if(!n)throw new Error(`No accolade found matching slug: ${e}`);a.textContent=`${n.emoji||""} ${n.name}`,c.textContent=n.description||"",i.innerHTML=n.recipients.map(o=>`
      <div class="bg-gray-800 p-4 rounded shadow text-left">
        <h3 class="text-xl font-bold text-white mb-1">${o.displayName}</h3>
      </div>
    `).join("")}catch(t){console.error("[ERROR] Failed to load accolade:",t),a.textContent="Error",c.textContent=`Failed to load accolade information. ${t.message}`}}async function f(){try{await new Promise(e=>requestAnimationFrame(e)),await g()}catch(e){console.error("[ERROR] Failed to load site content:",e)}}export{f as init};
